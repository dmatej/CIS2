<ui:composition template="master-template.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
>

<ui:define name="title">Úprava identity</ui:define>

<ui:param name="navigation" value="general" />

<ui:define name="content">
  <f:metadata>
    <f:viewParam name="identityid" value="#{identity.idIdentity}" />
    <f:event type="preRenderView" listener="#{identity.loadIdentity}" />
  </f:metadata>
  <f:metadata>
    <f:viewParam name="personid" value="#{identity.idperson}" />
  </f:metadata>



  <div class="container_12 slider">
    <div class="grid_6">
      <div class="work">
        <h:form>
          <h:messages errorClass="errorMessage" infoClass="infoMessage"
            warnClass="warnMessage"></h:messages>

          <h:panelGrid columns="2">
            <h:outputText value="Jméno :" />
            <h:inputText id="firstname" value="#{identity.firstname}"
              required="false" requiredMessage="Není vyplněno křestní jméno!">
            </h:inputText>

            <h:outputText value="Příjmení :" />
            <h:inputText id="lastname" value="#{identity.lastname}"
              required="false" requiredMessage="Není vyplněno příjmení!">
            </h:inputText>

            <h:outputText value="Rodné příjmení :" />
            <h:inputText id="birthname" value="#{identity.birthname}"
              required="false" requiredMessage="Není vyplněno rodné příjmení!">
            </h:inputText>

            <h:outputText value="Ostatní jména :" />
            <h:inputText id="othernames" value="#{identity.othernames}"
              required="false"
              requiredMessage="Není vyplněno pole Ostatní jména!">
            </h:inputText>

            <h:outputText value="Rodné číslo (bez lomítka):" />
            <h:inputText id="birthnumber" value="#{identity.birthnumber}"
              required="false" requiredMessage="Není vyplněno rodné číslo!">
            </h:inputText>

            <h:outputText value="Místo narození :" />
            <h:inputText id="birthplace" value="#{identity.birthplace}"
              required="false" requiredMessage="Není vyplněno místo narození!">
            </h:inputText>

            <h:outputText value="Stát narození :" />
            <h:selectOneMenu value="#{identity.idstateofbirth}"
              id="birthstate">
              <c:forEach items="#{codes.listStates()}" var="st">
                <f:selectItem itemLabel="${st.name}" itemValue="${st.id}"></f:selectItem>
              </c:forEach>
            </h:selectOneMenu>

            <h:outputText value="Aktuální stát v místě bydliště :" />
            <h:selectOneMenu value="#{identity.idstate}" id="actualstate">
              <c:forEach items="#{codes.listStates()}" var="st">
                <f:selectItem itemLabel="${st.name}" itemValue="${st.id}"></f:selectItem>
              </c:forEach>
            </h:selectOneMenu>



            <h:outputText value="Pohlaví :" />
            <h:selectOneMenu value="#{identity.sex}" id="sex">
              <f:selectItem itemLabel="Muž" itemValue="M"></f:selectItem>
              <f:selectItem itemLabel="Žena" itemValue="Z"></f:selectItem>
            </h:selectOneMenu>

            <h:outputText value="Platnost od(d.m.yyyy) :" />
            <h:inputText id="validfrom" value="#{identity.validfrom}"
              required="false"
              requiredMessage="Není vyplněno pole platnost od!">
              <f:convertDateTime pattern="d.M.yyyy" />
            </h:inputText>

            <h:outputText value="Platnost do(d.m.yyyy) :" />
            <h:inputText id="validto" value="#{identity.validto}"
              required="false"
              requiredMessage="Není vyplněno pole platnost do!">
              <f:convertDateTime pattern="d.M.yyyy" />
            </h:inputText>

            <h:commandButton type="submit" value="Upravit" action="#{identity.updateIdentity()}">
              <f:param name="personid" value="#{identity.idperson}" />
            </h:commandButton>
          </h:panelGrid>
        </h:form>
      </div>
    </div>
    <div class="clear"></div>

  </div>



</ui:define>
</ui:composition>




