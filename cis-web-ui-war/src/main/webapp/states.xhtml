<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<h:html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head xmlns:h="http://java.sun.com/jsf/html">
  <title>Správa států</title>
</h:head>
<h:body>
  <center>
    <h:outputText value="Nový stát - #{state.timeNow}" styleClass="header"></h:outputText>
  </center>
  <h:form>
    <h:messages id="messages" globalOnly="true" layout="table" />

    <h:panelGrid columns="3" style="width: 570px; ">
      <h:outputText value="Hlavní název :" />
      <h:inputText id="name" value="#{state.name}" required="true"
        requiredMessage="Není vyplněn název státu!">
      </h:inputText>
      <h:outputText value="" />

      <h:outputText value="Název CZ :" />
      <h:inputText id="nameCZ" value="#{state.nameCZ}" />
      <h:outputText
        value="(Není vyžadován, pokud je shodný s hlavním názvem)" />

      <h:outputText value="Název EN :" />
      <h:inputText id="nameEN" value="#{state.nameEN}" />
      <h:outputText
        value="(Není vyžadován, pokud je shodný s hlavním názvem)" />

      <h:outputText value="Celý název :" />
      <h:inputText id="nameFull" value="#{state.nameFull}" />
      <h:outputText
        value="(Není vyžadován, pokud je shodný s hlavním názvem)" />

      <h:outputText value="Nativ. název :" />
      <h:inputText id="nameNat" value="#{state.nameNativ}" />
      <h:outputText
        value="(Není vyžadován, pokud je shodný s hlavním názvem)" />

      <h:outputText value="Kód státu :" />
      <h:inputText id="code" value="#{state.code}" required="true"
        requiredMessage="Není vyplněn kód státu!">
      </h:inputText>
      <h:outputText value="" />

      <h:outputText value="Ident.číslo :" />
      <h:inputText id="idstate" value="#{state.idstate}" required="true"
        requiredMessage="Není vyplněno ID státu!">
      </h:inputText>
      <h:outputText value="" />

      <h:commandButton type="submit" value="Vytvořit"
        action="#{state.submit}">
      </h:commandButton>
      <h:commandButton type="reset" value="Reset" />
    </h:panelGrid>
    <br />
  </h:form>


  <h:outputText value="Seznam států" styleClass="header" />
  <br />

  <h:form>
    <c:forEach items="#{state.listStates}" var="st">
             ${st.id} ${st.name} ${st.code}
              <h:commandLink value="Detail">
        <f:ajax event="click" render="viewselstate"
          listener="#{state.loadState(st.id)}" />
      </h:commandLink>
      <br />
    </c:forEach>

    <br />
    <br />
    <h:panelGroup id="viewselstate">
      <h:outputText value="Detail státu " />
      <h:panelGroup id="viewselst"
        rendered="#{state.selectedState != null}">

        <h:commandButton value="Upravit" action="#{state.edit}" />
        <br />

        <h:outputText value="#{state.selectedState.name}" />
        <br />
        <h:outputText value="#{state.selectedState.nameCz}" />
        <br />
        <h:outputText value="#{state.selectedState.nameEn}" />
        <br />
      </h:panelGroup>
      <h:panelGroup id="viewselstnull"
        rendered="#{state.selectedState == null}">
        <br />
        <h:outputText value="Není vybrán žádný stát." />
      </h:panelGroup>
    </h:panelGroup>
  </h:form>
</h:body>

</h:html>